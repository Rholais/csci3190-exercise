%!TEX program = xelatex
\documentclass[10pt, compress, handout]{beamer}
\usepackage[titleprogressbar]{../../cls/beamerthemem}

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}
\usepackage{minted}

\usepgfplotslibrary{dateplot}

\usemintedstyle{trac}

\setbeamertemplate{caption}[numbered]
\setbeamertemplate{theorems}[numbered]
\newtheorem{crl}{Corollary}[theorem]

\usepackage{multicol}
\usepackage{qtree}

\makeatletter
\def\old@comma{,}
\catcode`\,=13
\def,{%
	\ifmmode%
	\old@comma\discretionary{}{}{}%
	\else%
	\old@comma%
	\fi%
}
\makeatother

\title{CSCI 3190 Tutorial of Week 9}
\subtitle{Bipartite Graph}
\author{LI Haocheng}
\institute{Department of Computer Science and Engineering}

\begin{document}

\maketitle

\begin{frame}[fragile]
	\frametitle{Equivalence Relation}
	\onslide<1->\begin{example}
		Find smallest equivalence relation on set $\{a, b, c, d, e\}$ containing following relations.
		\begin{enumerate}
			\item $\{(a, b), (b, c), (d, c)\}$.
			\item $\{(a, b), (b, d), (d, c)\}$.
		\end{enumerate}
	\end{example}
	\onslide<2>\textbf{Solution}\begin{enumerate}[(i)]
		\item Find Equivalence Classes: $[a] = \{a, b, c, d\}, [e] = \{e\}$.
		\item Find Equivalence Relation: $\{(a, a), (a, b), (a, c), (a, d), (b, a), (b, b), (b, c), (b, d), (c, a), (c, b), (c, c), (c, d), (d, a), (d, b), (d, c), (d, d), (e, e)\}$
	\end{enumerate}
\end{frame}

\begin{frame}[allowframebreaks]
	\frametitle{Hall\textquoteright s Theorem}
	\begin{theorem}
		The bipartite graph $G = (V,E)$ with bipartition $(V_1, V_2)$ has a complete matching from $V_1$ to $V_2$ if and only if $|N(A)| \ge |A|$ for all subsets $A$ of $V_1$.
	\end{theorem}
	\textbf{Proof.}	We first prove the only if part of the theorem. To do so, suppose that there is a complete matching $M$ from $V_1$ to $V_2$. Then, if $A \subseteq V_1$, for every vertex $v \in A$, there is an edge in $M$ connecting $v$ to a vertex in $V_2$. Consequently, there are at least as many vertices in $V_2$ that are neighbors of vertices in $V_1$ as there are vertices in $V_1$. It follows that $|N(A)|\ge|A|$. 
		
	To prove the if part of the theorem, the more difficult part, we need to show that if $|N(A)|\ge|A|$ for all $A \subseteq V_1$, then there is a complete matching $M$ from $V_1$ to $V_2$. We will use strong induction on $|V_1|$ to prove this.
		
	\textit{Basis step:} If $|V_1| = 1$, then $V_1$ contains a single vertex $v_0$. Because $|N(\{v_0\})| \ge |\{v_0\}| = 1$, there is at least one edge connecting $v_0$ and a vertex $w_0 \in V_2$. Any such edge forms a complete matching from $V_1$ to $V_2$.
	
	\textit{Inductive step:} We first state the inductive hypothesis.
	
	\newpage
		
	\textit{Inductive hypothesis:} Let k be a positive integer. If $G = (V,E)$ is a bipartite graph with bipartition $(V_1, V_2)$, and $|V_1| = j \le k$, then there is a complete matching $M$ from $V_1$ to $V_2$ whenever the condition that $|N(A)|\ge|A|$ for all $A \subseteq V_1$ is met. 
		
	Now suppose that $H = (W,F)$ is a bipartite graph with bipartition $(W_1,W_2)$ and $|W_1| = k + 1$. We will prove that the inductive holds using a proof by cases, using two case. Case \textit{(i)} applies when for all integers $j$ with $1 \le j \le k$, the vertices in every set of $j$ elements from $W_1$ are adjacent to at least $j + 1$ elements of $W_2$. Case \textit{(ii)} applies when for some $j$ with $1 \le j \le k$ there is a subset $W_1^\prime$ of $j$ vertices such that there are exactly $j$ neighbors of these vertices in $W_2$. Because either Case \textit{(i)} or Case \textit{(ii)} holds, we need only consider these cases to complete the inductive step.
	
	\textit{Case (i):} Suppose that for all integers $j$ with $1 \le j \le k$, the vertices in every subset of $j$ elements from $W_1$ are adjacent to at least $j + 1$ elements of $W_2$. Then, we select a vertex $v \in W_1$ and an element $w \in N(\{v\})$, which must exist by our assumption that $|N(\{v\}|\ge|\{v\}| = 1$. We delete $v$ and $w$ and all edges incident to them from $H$. This produces a bipartite graph $H^\prime$ with bipartition $(W_1 - \{v\}, W_2 - \{w\})$. Because $|W_1 - \{v\}| = k$, the inductive hypothesis tells us there is a complete matching from $W_1 - \{v\}$ to $W_2 - \{w\}$. Adding the edge from $v$ to $w$ to this complete matching produces a complete matching from $W_1$ to $W_2$.
	
	\newpage
	
	\textit{Case (ii):} Suppose that for some $j$ with $1 \le j \le k$, there is a subset $W_1$ of $j$ vertices such that there are exactly $j$ neighbors of these vertices in $W_2$. Let $W_2^\prime$ be the set of these neighbors. Then, by the inductive hypothesis there is a complete matching from $W_1^\prime$ to $W_2^\prime$. Remove these $2j$ vertices from $W_1$ and $W_2$ and all incident edges to produce a bipartite graph $K$ with bipartition $(W_1 - W_1^\prime, W_2 - W_2^\prime)$. 
	
	We will show that the graph $K$ satisfies the condition $|N(A)|\ge|A|$ for all subsets $A$ of	$W_1 - W_1^\prime$. If not, there would be a subset of $t$ vertices of $W_1 - W_1^\prime$ where $1 \le t \le k + 1 - j$ such that the vertices in this subset have fewer than $t$ vertices of $W_2 - W_2^\prime$ as neighbors. Then, the set of $j + t$ vertices of $W_1$ consisting of these $t$ vertices together with the $j$ vertices we removed from $W_1$ has fewer than $j + t$ neighbors in $W_2$, contradicting the hypothesis that $|N(A)|\le|A|$ for all $A \subseteq W_1$.
	
	\newpage
	
	Hence, by the inductive hypothesis, the graph $K$ has a complete matching. Combining this complete matching with the complete matching from $W_1^\prime$ to $W_2^\prime$, we obtain a complete matching from $W_1$ to $W_2$.
	
	We have shown that in both cases there is a complete matching from $W_1$ to $W_2$. This completes the inductive step and completes the proof.
\end{frame}

\begin{frame}[fragile]
	\frametitle{Preorder}
	\begin{columns}
		\begin{column}{.6\linewidth}
			\onslide<1->\begin{example}
				Determine the order in which a preorder traversal visits the vertices of the given ordered rooted tree in Figure \ref{f-11-3-e7}.
			\end{example}
			\onslide<2>\textbf{Solution} $a, b, d, e, f, g, c$
		\end{column}
		\onslide<1->\begin{column}{.4\linewidth}
			\begin{figure}
				\centering
				$\Tree [.a [.b d [.e f g ]] c ]$
				\caption{A Rooted Tree $T$}
				\label{f-11-3-e7}
			\end{figure}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Inorder}
	\begin{columns}
		\begin{column}{.6\linewidth}
			\onslide<1->\begin{example}
				Determine the order in which a inorder traversal visits the vertices of the given ordered rooted tree in Figure \ref{f-11-3-e7-1}.
			\end{example}
			\onslide<2>\textbf{Solution} $d, b, f, e, g, a, c$
		\end{column}
		\onslide<1->\begin{column}{.4\linewidth}
			\begin{figure}
				\centering
				$\Tree [.a [.b d [.e f g ]] c ]$
				\caption{A Rooted Tree $T$}
				\label{f-11-3-e7-1}
			\end{figure}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Postorder}
	\begin{columns}
		\begin{column}{.6\linewidth}
			\onslide<1->\begin{example}
				Determine the order in which a postorder traversal visits the vertices of the given ordered rooted tree in Figure \ref{f-11-3-e7-2}.
			\end{example}
			\onslide<2>\textbf{Solution} $d, f, g, e, b, c, a$
		\end{column}
		\onslide<1->\begin{column}{.4\linewidth}
			\begin{figure}
				\centering
				$\Tree [.a [.b d [.e f g ]] c ]$
				\caption{A Rooted Tree $T$}
				\label{f-11-3-e7-2}
			\end{figure}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Expression}
	\begin{columns}
		\begin{column}{.6\linewidth}
			\onslide<1->\begin{example}
				\begin{enumerate}
					\item Represent the expression $((x + 2) \uparrow 3) \cdot (y - (3 + x)) - 5$ using a binary tree.
					\item Write this expression in prefix notation.
					\item Write this expression in postfix notation.
					\item Write this expression in infix notation.
				\end{enumerate}
			\end{example}
			\onslide<2>\textbf{Solution} \begin{enumerate}
				\item $-\ \cdot\ \uparrow\ +\ x\ 2\ 3\ -\ y\ +\ 3\ x\ 5$
				\item $x\ 2\ +\ 3\ \uparrow\ y\ 3\ x\ +\ -\ \cdot\ 5\ -$
				\item $x\ +\ 2\ \uparrow\ 3\ \cdot\ y\ -\ 3\ +\ x\ -\ 5$
			\end{enumerate}
		\end{column}
		\onslide<2>\begin{column}{.4\linewidth}
			\begin{figure}
				\centering
				$\Tree [.- [.\(\cdot\) [.\(\uparrow\) [.+ x 2 ] 3 ] [.- y [.+ 3 x ] ] ] 5 ]$
				\caption{A Rooted Tree $T$}
				\label{f-11-3-e16}
			\end{figure}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Construction}
	\begin{columns}
		\begin{column}{.6\linewidth}
			\onslide<1->\begin{example}
				Construct the ordered rooted tree whose preorder traversal is $a, b, f, c, g, h, i, d, e, j, k, l$, where $a$ has four children, $c$ has three children, $j$ has two children, $b$ and $e$ have one child each, and all other vertices are leaves.
			\end{example}
		\end{column}
		\onslide<2>\begin{column}{.4\linewidth}
			\begin{figure}
				\centering
				$\Tree [.a [.b f ] [.c g h i ] d [.e [.j k l ] ] ]$
				\caption{A Rooted Tree $T$}
				\label{f-11-3-e25}
			\end{figure}
		\end{column}
	\end{columns}
\end{frame}

\plain{Questions?}

\end{document}
